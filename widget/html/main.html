<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" name="viewport"/>
        <meta content="telephone=no,email=no,date=no,address=no" name="format-detection"/>
        <title>
        </title>
        <link href="../css/api.css" rel="stylesheet" type="text/css"/>
        <style>
            html,body{
                height: 100%;
            }
        </style>
    </head>
    <body>
    </body>
    <script src="../script/api.js" type="text/javascript">
    </script>
    <script type="text/javascript">
    var aMap;
    apiready = function(){
        aMap = api.require('aMap');
        api.setStatusBarStyle({
            style: 'dark'
        });
        fnInitMap();
        setMapCenter();
        fnInitMapZoom();
        fnInitMainHeader();
        fnInitMessageProfile();
        fnInitAddMessageBtn();
        fnRegisterKeyBack();
    };
    
    function fnInitMainHeader(){
        api.openFrame({
            name: 'main_header_frame',
            url: './main_header_frame.html',
            rect: {
                x: 0,
                y: 0,
                w: 'auto',
                h: '70'
            },
            bounces: false
        });
    };
    function fnInitMap(){
        api.openFrame({
            name: 'map_frame',
            url: './map_frame.html',
            rect: {
                x: 0,
                y: 0,
                w: 'auto',
                h: 'auto'
            },
            bounces: false
        });
    };

    function setMapCenter(){
            api.openFrame({
                name: 'map_center_frame',
                url: './map_center_frame.html',
                rect: {
                    x: 0,
                    y: api.winHeight-200,
                    w: 60,
                    h: 48
                },
                bounces: false
            });
            api.bringFrameToFront({
                from: 'map_center_frame'
            });
        };    
        function fnInitMapZoom(){
            api.openFrame({
                name: 'map_zoom_frame',
                url: './map_zoom_frame.html',
                rect: {
                    x: api.winWidth-50,
                    y: api.winHeight-240,
                    w: 60,
                    h: 88
                },
                bounces: false
            });
            api.bringFrameToFront({
                from: 'map_zoom_frame'
            });
        };

    function fnInitMessageProfile(){
        api.openFrame({
            name: 'message_profile_frame',
            url: './message_profile_frame.html',
            rect: {
                x: 0,
                y: api.winHeight-150,
                w: 'auto',
                h: 75
            },
            bounces: false
        });
        api.bringFrameToFront({
            from: 'message_profile_frame'
        });
    };
    function fnInitAddMessageBtn(){
        api.openFrame({
            name: 'message_btn_frame',
            url: './message_btn_frame.html',
            rect: {
                x: 0,
                y: api.winHeight-60,
                w: 'auto',
                h: 60
            },
            bounces: false
        });
        api.bringFrameToFront({
            from: 'message_profile_frame'
        });
    };
    function fnRegisterKeyBack(){
        api.addEventListener({
            name: 'keyback'
        }, function(ret, err) {
            api.closeWidget();
        });
    };
    </script>
</html>
